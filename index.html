<!doctype html>
<html>
	<head>
		<script src="https://d3js.org/d3.v4.js"></script>
	<script src="http://binaworks.github.io/scripts/d3-container.v0.0.1.min.js"></script>
		<style>
		</style>
	</head>
	<body>
		<script>
			d3.csv("data.csv", function(data) {
				// START... container setup
				// the container method comes from https://goo.gl/PScPbf
				const outerContainer = d3_container.container()
				    .margin(50)
				    .width(960)
				    .height(500);

				var margin = outerContainer.margin(),
				    innerWidth = outerContainer.contentWidth(),
				    innerHeight = outerContainer.contentHeight();

				var innerContainer = d3_container.container().margin(60),
				    padding = innerContainer.margin();

				 var svg = d3.select("body").append("svg");

				 svg.call(outerContainer);

				var content =  outerContainer.content();
				// END... container setup

				// Extents set the stage for the rest of the code we write
				const xExtent = d3.extent(data, d => d.year);
				const yExtent = d3.extent(data, d => d.poultry);

				// out scales will reflec the exent of our range
				const xScale = d3.scaleLinear()
					.domain(xExtent)
					.range([0, innerWidth]);
				const yScale = d3.scaleLinear()
					.domain(yExtent)
					.range([0, innerHeight]);

				// With the scales for x and y we can create axises.
				const xAxis = d3.axisBottom()
					.scale(xScale);
				content
					.append("g")
					.attr("id", "xAxisG")
					.call(xAxis);
				const yAxis = d3.axisLeft()
					.scale(yScale);
				content
					.append("g")
					.attr("id", "xAxisG")
					.call(yAxis);

				// Let's move these axis around a bit
				content.select("#xAxisG")
					.attr('transform', 'translate(0,' + innerHeight + ')');
			})
		</script>
	</body>
</html>